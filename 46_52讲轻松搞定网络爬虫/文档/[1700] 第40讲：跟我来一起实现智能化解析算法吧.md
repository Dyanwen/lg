<p data-nodeid="3062">åœ¨ä¸Šä¸€èŠ‚è¯¾æˆ‘ä»¬ä»‹ç»äº†æ™ºèƒ½è§£æç®—æ³•çš„å®ç°åŸç†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±ä¸€èµ·åŠ¨æ‰‹ç”¨ä»£ç æ¥å®ç°ä¸€ä¸‹æ™ºèƒ½è§£æç®—æ³•å§ã€‚</p>



<h3 data-nodeid="4016" class="">å­¦ä¹ ç›®æ ‡</h3>

<p data-nodeid="1626">è¿™é‡Œä½¿ç”¨çš„æ¡ˆä¾‹è¿˜æ˜¯å‡¤å‡°ç½‘çš„ä¸€ç¯‡èµ„è®¯æ–‡ç« ï¼Œé“¾æ¥ä¸ºï¼š<a href="http://news.ifeng.com/c/7kQcQG2peWU" data-nodeid="1757">http://news.ifeng.com/c/7kQcQG2peWU</a>ï¼Œæœ¬èŠ‚æˆ‘ä»¬ä¸»è¦å®ç°çš„æå–å­—æ®µä¸ºæ ‡é¢˜ã€æ—¶é—´ã€æ­£æ–‡å†…å®¹ã€‚</p>
<p data-nodeid="1627">æˆ‘ä»¬ä¼šç”¨ Python æ¥å¯¹ä¸Šä¸€èŠ‚è®²è§£çš„æ™ºèƒ½è§£æç®—æ³•è¿›è¡Œå®ç°ï¼Œå®ç°æ–°é—»å†…å®¹çš„æå–ã€‚</p>
<h3 data-nodeid="4970" class="">å‡†å¤‡å·¥ä½œ</h3>

<p data-nodeid="6868">é¦–å…ˆè®©æˆ‘ä»¬å°†ä¸Šè¿° URL æ‰“å¼€ï¼Œç„¶ååœ¨æµè§ˆå™¨é‡Œé¢æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œå¹¶æ‰“å¼€ Elements é€‰é¡¹å¡ï¼Œæœ€åæŠŠ HTML ä»£ç å¤åˆ¶ä¸‹æ¥ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p data-nodeid="6869" class=""><img src="https://s0.lgstatic.com/i/image/M00/28/39/CgqCHl74UmGAJc3ZAAMZ_A3o4rs583.png" alt="image.png" data-nodeid="6873"></p>


<p data-nodeid="1631">å¤åˆ¶ä¸‹æ¥ä¹‹åæˆ‘ä»¬æŠŠæºä»£ç ä¿å­˜æˆä¸€ä¸ª html æ–‡ä»¶ï¼Œåå­—å«ä½œ sample.htmlã€‚</p>
<p data-nodeid="1632">ç„¶åæˆ‘ä»¬å®šä¹‰å¦‚ä¸‹ä»£ç ï¼Œå°† html é‡Œé¢çš„å­—ç¬¦è½¬åŒ–æˆ lxml é‡Œé¢çš„ HtmlElement å¯¹è±¡ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="lang-java" data-nodeid="8303"><code data-language="java">from lxml.html <span class="hljs-keyword">import</span> HtmlElement, fromstring
â€‹
html = open(<span class="hljs-string">'sample.html'</span>, encoding=<span class="hljs-string">'utf-8'</span>).read()
element = fromstring(html=html)
</code></pre>


<p data-nodeid="1634">è¿™é‡Œ element å¯¹è±¡å…¶å®å°±æ˜¯æ•´ä¸ªç½‘é¡µå¯¹åº”çš„ HtmlElement å¯¹è±¡ï¼Œå…¶æ ¹èŠ‚ç‚¹å°±æ˜¯ htmlï¼Œä¸‹é¢æˆ‘ä»¬ä¼šç”¨åˆ°å®ƒæ¥è¿›è¡Œé¡µé¢è§£æï¼Œä»è¿™ä¸ª HtmlElement å¯¹è±¡é‡Œé¢æå–å‡ºæˆ‘ä»¬æƒ³è¦çš„æ—¶é—´ã€æ ‡é¢˜ã€æ­£æ–‡å†…å®¹ã€‚</p>
<h3 data-nodeid="9256" class="">æ—¶é—´</h3>

<p data-nodeid="1636">å¯¹äºæ—¶é—´æ¥è¯´ï¼Œæˆ‘ä»¬è¿™é‡Œå°±æ ¹æ®ä¸¤ä¸ªæ–¹é¢æ¥è¿›è¡Œæå–ï¼Œä¸€ä¸ªå°±æ˜¯ meta æ ‡ç­¾ï¼Œå¦‚æœé‡Œé¢åŒ…å«äº†å‘å¸ƒæ—¶é—´çš„ç›¸å…³ä¿¡æ¯ï¼Œä¸€èˆ¬æå–å‡ºæ¥å°±æ˜¯å¯¹çš„ï¼Œå¯ä¿¡åº¦éå¸¸é«˜ï¼Œå¦‚æœæå–ä¸åˆ°ï¼Œé‚£å°±ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…ä¸€äº›æ—¶é—´è§„åˆ™è¿›è¡Œæå–ã€‚</p>
<p data-nodeid="1637">é¦–å…ˆæˆ‘ä»¬å°±æ¥è¿›è¡Œ meta æ ‡ç­¾çš„æå–ï¼Œè¿™é‡Œæˆ‘ä»¬åˆ—å‡ºæ¥äº†ä¸€äº›ç”¨æ¥åŒ¹é…å‘å¸ƒæ—¶é—´çš„ XPath è§„åˆ™ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="lang-java" data-nodeid="10687"><code data-language="java">METAS = [
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@property, "rnews:datePublished")]/@content'</span>,
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@property, "article:published_time")]/@content'</span>,
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@property, "og:published_time")]/@content'</span>,
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@property, "og:release_date")]/@content'</span>,
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@itemprop, "datePublished")]/@content'</span>,
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@itemprop, "dateUpdate")]/@content'</span>,
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@name, "OriginalPublicationDate")]/@content'</span>,
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@name, "article_date_original")]/@content'</span>,
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@name, "og:time")]/@content'</span>,
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@name, "apub:time")]/@content'</span>,
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@name, "publication_date")]/@content'</span>,
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@name, "sailthru.date")]/@content'</span>,
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@name, "PublishDate")]/@content'</span>,
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@name, "publishdate")]/@content'</span>,
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@name, "PubDate")]/@content'</span>,
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@name, "pubtime")]/@content'</span>,
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@name, "_pubtime")]/@content'</span>,
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@name, "weibo: article:create_at")]/@content'</span>,
 &nbsp; &nbsp;<span class="hljs-string">'//meta[starts-with(@pubdate, "pubdate")]/@content'</span>,
]
</code></pre>


<p data-nodeid="1639">åœ¨è¿™é‡Œæˆ‘ä»¬å°±å®šä¹‰ä¸€ä¸ª extract_by_meta çš„æ–¹æ³•ï¼Œå®ƒæ¥å—ä¸€ä¸ª HtmlElement å¯¹è±¡ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre class="lang-java" data-nodeid="11640"><code data-language="java"><span class="hljs-function">def <span class="hljs-title">extract_by_meta</span><span class="hljs-params">(element: HtmlElement)</span> -&gt; str:
 &nbsp; &nbsp;<span class="hljs-keyword">for</span> xpath in METAS:
 &nbsp; &nbsp; &nbsp; &nbsp;datetime </span>= element.xpath(xpath)
 &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword">if</span> datetime:
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword">return</span> <span class="hljs-string">''</span>.join(datetime)
</code></pre>

<p data-nodeid="1641">è¿™é‡Œæˆ‘ä»¬å…¶å®å°±æ˜¯å¯¹ METAS è¿›è¡Œé€ä¸ªéå†ï¼Œç„¶åæŸ¥æ‰¾æ•´ä¸ª HtmlElement é‡Œé¢æ˜¯ä¸æ˜¯æœ‰åŒ¹é…çš„å†…å®¹ï¼Œæ¯”å¦‚è¯´ï¼š</p>
<pre class="lang-java" data-nodeid="12593"><code data-language="java"><span class="hljs-comment">//meta[starts-with(@property, "og:published_time")]/@content</span>
</code></pre>

<p data-nodeid="1643">è¿™ä¸ªå°±æ˜¯æŸ¥æ‰¾ meta èŠ‚ç‚¹ä¸­æ˜¯ä¸æ˜¯å­˜åœ¨ä»¥ og:published_time å¼€å¤´çš„ property å±æ€§ï¼Œå¦‚æœå­˜åœ¨ï¼Œé‚£å°±æå–å‡ºå…¶ä¸­çš„ content å±æ€§å†…å®¹ã€‚<br>
æ¯”å¦‚è¯´æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­åˆšå¥½æœ‰ä¸€ä¸ª meta èŠ‚ç‚¹ï¼Œå†…å®¹ä¸ºï¼š</p>
<pre class="lang-java" data-nodeid="13546"><code data-language="java">&lt;meta name=<span class="hljs-string">"og:time "</span> content=<span class="hljs-string">"2019-02-20 02:26:00"</span>&gt;
</code></pre>

<p data-nodeid="1645">ç»è¿‡å¤„ç†ï¼Œå®ƒä¼šåŒ¹é…åˆ°è¿™ä¸ª XPath è¡¨è¾¾å¼ï¼š</p>
<pre class="lang-java" data-nodeid="14499"><code data-language="java"><span class="hljs-comment">//meta[starts-with(@name, "og:time")]/@content</span>
</code></pre>

<p data-nodeid="15452">è¿™æ ·å…¶å® extract_by_meta æ–¹æ³•å°±æˆåŠŸåŒ¹é…åˆ°æ—¶é—´ä¿¡æ¯ï¼Œç„¶åæå–å‡º 2019-02-20 02:26:00 è¿™ä¸ªå€¼äº†ã€‚</p>
<p data-nodeid="15453">è¿™å°±ç›¸å½“äºæ—¶é—´æå–çš„ç¬¬ä¸€æ­¥æˆåŠŸäº†ï¼Œè€Œä¸”ä¸€èˆ¬æ¥è¯´åŒ¹é…åˆ°çš„ç»“æœå¯ä¿¡åº¦éƒ½æ˜¯éå¸¸é«˜çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†è¿™ä¸ªå†…å®¹è¿”å›ä½œä¸ºæœ€ç»ˆçš„æå–ç»“æœå³å¯ã€‚</p>

<p data-nodeid="1648">å¯æ˜¯å¹¶ä¸æ˜¯æ‰€æœ‰çš„é¡µé¢éƒ½ä¼šåŒ…å«è¿™ä¸ª meta æ ‡ç­¾ï¼Œå¦‚æœä¸åŒ…å«çš„è¯ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è¿›è¡Œç¬¬äºŒæ­¥çš„æå–ã€‚</p>
<p data-nodeid="1649">ä¸‹é¢æˆ‘ä»¬å†æ¥å®ç°ç¬¬äºŒæ­¥ï¼Œä¹Ÿå°±æ˜¯æ ¹æ®ä¸€äº›æ—¶é—´æ­£åˆ™è¡¨è¾¾å¼æ¥è¿›è¡Œæå–çš„æ–¹æ³•ã€‚è¿™é‡Œæˆ‘ä»¬å…¶å®å°±æ˜¯å®šä¹‰ä¸€äº›æ—¶é—´çš„æ­£åˆ™è¡¨è¾¾å¼å†™æ³•ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="lang-java" data-nodeid="16412"><code data-language="java">REGEXES = [
 &nbsp; &nbsp;<span class="hljs-string">"(\d{4}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[0-1]?[0-9]:[0-5]?[0-9]:[0-5]?[0-9])"</span>,
 &nbsp; &nbsp;<span class="hljs-string">"(\d{4}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[2][0-3]:[0-5]?[0-9]:[0-5]?[0-9])"</span>,
 &nbsp; &nbsp;<span class="hljs-string">"(\d{4}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[0-1]?[0-9]:[0-5]?[0-9])"</span>,
 &nbsp; &nbsp;<span class="hljs-string">"(\d{4}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[2][0-3]:[0-5]?[0-9])"</span>,
 &nbsp; &nbsp;<span class="hljs-string">"(\d{4}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[1-24]\dæ—¶[0-60]\dåˆ†)([1-24]\dæ—¶)"</span>,
 &nbsp; &nbsp;<span class="hljs-string">"(\d{2}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[0-1]?[0-9]:[0-5]?[0-9]:[0-5]?[0-9])"</span>,
 &nbsp; &nbsp;<span class="hljs-string">"(\d{2}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[2][0-3]:[0-5]?[0-9]:[0-5]?[0-9])"</span>,
 &nbsp; &nbsp;<span class="hljs-string">"(\d{2}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[0-1]?[0-9]:[0-5]?[0-9])"</span>,
 &nbsp; &nbsp;<span class="hljs-string">"(\d{2}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[2][0-3]:[0-5]?[0-9])"</span>,
 &nbsp; &nbsp;<span class="hljs-string">"(\d{2}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[1-24]\dæ—¶[0-60]\dåˆ†)([1-24]\dæ—¶)"</span>,
 &nbsp;  ...
 &nbsp; &nbsp;<span class="hljs-string">"(\d{4}[-|/|.]\d{1,2}[-|/|.]\d{1,2})"</span>,
 &nbsp; &nbsp;<span class="hljs-string">"(\d{2}[-|/|.]\d{1,2}[-|/|.]\d{1,2})"</span>,
 &nbsp; &nbsp;<span class="hljs-string">"(\d{4}å¹´\d{1,2}æœˆ\d{1,2}æ—¥)"</span>,
 &nbsp; &nbsp;<span class="hljs-string">"(\d{2}å¹´\d{1,2}æœˆ\d{1,2}æ—¥)"</span>,
 &nbsp; &nbsp;<span class="hljs-string">"(\d{1,2}æœˆ\d{1,2}æ—¥)"</span>
]
</code></pre>

<p data-nodeid="1651">ç”±äºå†…å®¹æ¯”è¾ƒå¤šï¼Œè¿™é‡Œçœç•¥äº†éƒ¨åˆ†å†…å®¹ã€‚å…¶å®è¿™é‡Œå°±æ˜¯ä¸€äº›æ—¥æœŸçš„å¸¸è§å†™æ³•æ ¼å¼ï¼Œç”±äºæ—¥æœŸçš„å†™æ³•æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡ä¸€äº›æœ‰é™çš„æ­£åˆ™è¡¨è¾¾å°±èƒ½è¿›è¡ŒåŒ¹é…ã€‚<br>
æ¥ä¸‹æ¥æˆ‘ä»¬å°±å®šä¹‰ä¸€ä¸ªæ­£åˆ™æœç´¢çš„æ–¹æ³•ï¼Œå®ç°å¦‚ä¸‹ï¼š</p>
<pre class="lang-java" data-nodeid="17365"><code data-language="java"><span class="hljs-keyword">import</span> re
â€‹
<span class="hljs-function">def <span class="hljs-title">extract_by_regex</span><span class="hljs-params">(element: HtmlElement)</span> -&gt; str:
 &nbsp; &nbsp;text </span>= <span class="hljs-string">''</span>.join(element.xpath(<span class="hljs-string">'.//text()'</span>))
 &nbsp; &nbsp;<span class="hljs-keyword">for</span> regex in REGEXES:
 &nbsp; &nbsp; &nbsp; &nbsp;result = re.search(regex, text)
 &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword">if</span> result:
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword">return</span> result.group(<span class="hljs-number">1</span>)
</code></pre>

<p data-nodeid="1653">è¿™é‡Œæˆ‘ä»¬å…ˆæŸ¥æ‰¾äº† element çš„æ–‡æœ¬å†…å®¹ï¼Œç„¶åå¯¹æ–‡æœ¬å†…å®¹è¿›è¡Œæ­£åˆ™è¡¨è¾¾å¼æœç´¢ï¼Œç¬¦åˆæ¡ä»¶çš„å°±ç›´æ¥è¿”å›ã€‚<br>
æœ€åï¼Œæ—¶é—´æå–çš„æ–¹æ³•æˆ‘ä»¬ç›´æ¥å®šä¹‰ä¸ºï¼š</p>
<pre class="lang-java" data-nodeid="18318"><code data-language="java">extract_by_meta(element) <span class="hljs-function">or <span class="hljs-title">extract_by_regex</span><span class="hljs-params">(element)</span>
</span></code></pre>

<p data-nodeid="1655">å³å¯ï¼Œè¿™æ ·å°±ä¼šä¼˜å…ˆæå– metaï¼Œå…¶æ¬¡æ ¹æ®æ­£åˆ™è¡¨è¾¾å¼æå–ã€‚</p>
<h3 data-nodeid="19271" class="">æ ‡é¢˜</h3>

<p data-nodeid="1657">æ¥ä¸‹æ¥æˆ‘ä»¬æ¥å®ç°æ ‡é¢˜çš„æå–ï¼Œæ ¹æ®ä¸ŠèŠ‚å†…å®¹ï¼Œæ ‡é¢˜çš„æå–æˆ‘ä»¬åœ¨è¿™é‡Œå®ç°ä¸‰ä¸ªæ¥æºçš„æå–ï¼š</p>
<ul data-nodeid="1658">
<li data-nodeid="1659">
<p data-nodeid="1660">æŸ¥æ‰¾ meta èŠ‚ç‚¹é‡Œé¢çš„æ ‡é¢˜ä¿¡æ¯ã€‚</p>
</li>
<li data-nodeid="1661">
<p data-nodeid="1662">æŸ¥æ‰¾ title èŠ‚ç‚¹çš„æ ‡é¢˜ä¿¡æ¯ã€‚</p>
</li>
<li data-nodeid="1663">
<p data-nodeid="1664">æŸ¥æ‰¾ h èŠ‚ç‚¹çš„ä¿¡æ¯ã€‚</p>
</li>
</ul>
<p data-nodeid="1665">é¦–å…ˆå°±æ˜¯ä» meta èŠ‚ç‚¹æå–ï¼Œå…¶å®è¿‡ç¨‹è¿˜æ˜¯ç±»ä¼¼çš„ï¼Œæˆ‘ä»¬å®šä¹‰å¦‚ä¸‹çš„ meta èŠ‚ç‚¹çš„ XPath æå–è§„åˆ™ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="lang-java" data-nodeid="20225"><code data-language="java">METAS = [
    <span class="hljs-string">'//meta[starts-with(@property, "og:title")]/@content'</span>,
    <span class="hljs-string">'//meta[starts-with(@name, "og:title")]/@content'</span>,
    <span class="hljs-string">'//meta[starts-with(@property, "title")]/@content'</span>,
    <span class="hljs-string">'//meta[starts-with(@name, "title")]/@content'</span>,
    <span class="hljs-string">'//meta[starts-with(@property, "page:title")]/@content'</span>,
]
</code></pre>

<p data-nodeid="1667">å®ç°çš„æå–æ–¹æ³•ä¹Ÿæ˜¯å®Œå…¨ä¸€æ ·çš„ï¼š</p>
<pre class="lang-java" data-nodeid="21178"><code data-language="java"><span class="hljs-function">def <span class="hljs-title">extract_by_meta</span><span class="hljs-params">(element: HtmlElement)</span> -&gt; str:
    <span class="hljs-keyword">for</span> xpath in METAS:
        title </span>= element.xpath(xpath)
        <span class="hljs-keyword">if</span> title:
            <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>.join(title)
</code></pre>

<p data-nodeid="23084">å…³äºè¿™ä¸€éƒ¨åˆ†å°±ä¸å†å±•å¼€è¯´æ˜äº†ã€‚</p>
<p data-nodeid="23085">æ¥ä¸‹æ¥æˆ‘ä»¬è¿˜å¯ä»¥æå– title å’Œ h èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œé€šè¿‡åŸºæœ¬çš„ XPath è¡¨è¾¾å¼å°±å¯ä»¥å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>

<pre class="lang-java" data-nodeid="22131"><code data-language="java"><span class="hljs-function">def <span class="hljs-title">extract_by_title</span><span class="hljs-params">(element: HtmlElement)</span>:
    return ''.<span class="hljs-title">join</span><span class="hljs-params">(element.xpath(<span class="hljs-string">'//title//text()'</span>)</span>).<span class="hljs-title">strip</span><span class="hljs-params">()</span>
def <span class="hljs-title">extract_by_h</span><span class="hljs-params">(element: HtmlElement)</span>:
    return ''.<span class="hljs-title">join</span><span class="hljs-params">(
        element.xpath(<span class="hljs-string">'(//h1//text() | //h2//text() | //h3//text())'</span>)</span>).<span class="hljs-title">strip</span><span class="hljs-params">()</span>
</span></code></pre>

<p data-nodeid="24040">è¿™é‡Œæˆ‘ä»¬æå–äº† titleã€h1~h3 èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œç„¶åè¿”å›äº†å®ƒä»¬çš„çº¯æ–‡æœ¬å†…å®¹ã€‚</p>
<p data-nodeid="24041">ç´§æ¥ç€ï¼Œæˆ‘ä»¬åˆ†åˆ«è°ƒç”¨ä»¥ä¸‹è¿™ä¸‰ä¸ªæ–¹æ³•ï¼Œçœ‹çœ‹é’ˆå¯¹è¿™ä¸ªæ¡ˆä¾‹ï¼Œå…¶ç»“æœæ˜¯æ€æ ·çš„ï¼Œè°ƒç”¨å¦‚ä¸‹ï¼š</p>

<pre class="lang-yaml" data-nodeid="44535"><code data-language="yaml"><span class="hljs-string">title_extracted_by_meta</span> <span class="hljs-string">=</span> <span class="hljs-string">extract_by_meta(element)</span>
<span class="hljs-string">title_extracted_by_h</span> <span class="hljs-string">=</span> <span class="hljs-string">extract_by_h(element)</span>
<span class="hljs-string">title_extracted_by_title</span> <span class="hljs-string">=</span> <span class="hljs-string">extract_by_title(element)</span>
</code></pre>


<p data-nodeid="1673">è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<pre class="lang-yaml" data-nodeid="43582"><code data-language="yaml"><span class="hljs-string">title_extracted_by_meta</span> <span class="hljs-string">æ•…å®«ï¼Œä½ ä½è°ƒç‚¹ï¼æ•…å®«ï¼šä¸ï¼Œå®åŠ›å·²ä¸å…è®¸æˆ‘ç»§ç»­ä½è°ƒ</span>
<span class="hljs-string">title_extracted_by_h</span> <span class="hljs-string">æ•…å®«ï¼Œä½ ä½è°ƒç‚¹ï¼æ•…å®«ï¼šä¸ï¼Œå®åŠ›å·²ä¸å…è®¸æˆ‘ç»§ç»­ä½è°ƒä¸ºæ‚¨æ¨èç²¾å“æœ‰å£°å¥½ä¹¦ç²¾é€‰</span>
<span class="hljs-string">title_extracted_by_title</span> <span class="hljs-string">æ•…å®«ï¼Œä½ ä½è°ƒç‚¹ï¼æ•…å®«ï¼šä¸ï¼Œå®åŠ›å·²ä¸å…è®¸æˆ‘ç»§ç»­ä½è°ƒ_å‡¤å‡°ç½‘èµ„è®¯_å‡¤å‡°ç½‘</span>
</code></pre>




















<p data-nodeid="45488">è¿™é‡Œæˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼Œä¸‰ä¸ªæ–¹æ³•éƒ½è¿”å›äº†å·®ä¸å¤šçš„ç»“æœï¼Œä½†æ˜¯åç¼€è¿˜æ˜¯ä¸å¤ªä¸€æ ·ã€‚</p>
<p data-nodeid="45489">title_extracted_by_meta å®é™…ä¸Šæ˜¯å®Œå…¨æ­£ç¡®çš„å†…å®¹ï¼Œå¯ä»¥ç›´æ¥è¿”å›ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå®ƒçš„å¯ä¿¡åº¦ä¹Ÿéå¸¸é«˜ï¼Œå¦‚æœåŒ¹é…åˆ°ï¼Œé‚£å°±ç›´æ¥è¿”å›å°±å¥½äº†ã€‚</p>

<p data-nodeid="1676">ä½†æ˜¯å¦‚æœä¸å­˜åœ¨ title_extracted_by_meta çš„ç»“æœå‘¢ï¼Ÿé‚£åªèƒ½é  title_extracted_by_title å’Œ title_extracted_by_h äº†ã€‚</p>
<p data-nodeid="1677">è¿™é‡Œæˆ‘ä»¬è§‚å¯Ÿåˆ° title_extracted_by_title å’Œ title_extracted_by_h åŒ…å«ä¸€äº›å†—ä½™ä¿¡æ¯ï¼Œä»”ç»†æƒ³æƒ³ç¡®å®æ˜¯è¿™æ ·çš„ï¼Œå› ä¸º title ä¸€èˆ¬æ¥è¯´ä¼šå†åŠ ä¸Šç½‘ç«™çš„åç§°ï¼Œè€Œ h èŠ‚ç‚¹ä¼—å¤šï¼Œé€šå¸¸ä¼šåŒ…å«å¾ˆå¤šå™ªéŸ³ã€‚</p>
<p data-nodeid="1678">è¿™é‡Œæˆ‘ä»¬å¯ä»¥æå–å®ƒä»¬çš„å…¬å…±è¿ç»­å†…å®¹å…¶å®å°±å¥½äº†ï¼Œè¿™é‡Œç”¨åˆ°ä¸€ä¸ªç®—æ³•ï¼Œå°±æ˜¯æœ€é•¿è¿ç»­å…¬å…±å­ä¸²ï¼Œå³ Longest Common Stringï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥å€ŸåŠ©äº Python çš„ difflib åº“æ¥å®ç°å³å¯ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£çš„è¯ä¹Ÿå¯ä»¥æ‰‹åŠ¨å®ç°ä¸€ä¸‹ã€‚</p>
<p data-nodeid="1679">è¿™é‡Œæˆ‘ä»¬çš„å®ç°å¦‚ä¸‹ï¼š</p>
<pre class="lang-java" data-nodeid="51215"><code data-language="java"><span class="hljs-function">from difflib <span class="hljs-keyword">import</span> SequenceMatcher
def <span class="hljs-title">lcs</span><span class="hljs-params">(a, b)</span>:
    match </span>= SequenceMatcher(None, a, b).find_longest_match(<span class="hljs-number">0</span>, len(a), <span class="hljs-number">0</span>, len(b))
    <span class="hljs-keyword">return</span> a[match[<span class="hljs-number">0</span>]: match[<span class="hljs-number">0</span>] + match[<span class="hljs-number">2</span>]]
</code></pre>






<p data-nodeid="52168">è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ª lcs æ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸¤ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°ï¼Œæ¯”å¦‚ <code data-backticks="1" data-nodeid="52171">abcd</code> å’Œ <code data-backticks="1" data-nodeid="52173">bcde</code>ï¼Œé‚£ä¹ˆå®ƒçš„è¿”å›ç»“æœå°±æ˜¯å®ƒä»¬çš„å…¬å…±éƒ¨åˆ†ï¼Œå³ <code data-backticks="1" data-nodeid="52175">bcd</code>ã€‚</p>
<p data-nodeid="52169">å¥½ï¼Œé‚£ä¹ˆå¯¹äº title_extracted_by_title å’Œ title_extracted_by_hï¼Œæˆ‘ä»¬è°ƒç”¨ä¸‹ lcs æ–¹æ³•å°±å¥½äº†ï¼Œå®ç°å¦‚ä¸‹ï¼š</p>

<pre class="lang-java" data-nodeid="53142"><code data-language="java">lcs(title_extracted_by_title, title_extracted_by_h)
</code></pre>

<p data-nodeid="1683">æœ€ç»ˆæˆ‘ä»¬å¯ä»¥æŠŠæ ‡é¢˜çš„æå–å®šä¹‰æˆä¸€ä¸ªæ–¹æ³•ï¼Œå®ç°å¦‚ä¸‹ï¼š</p>
<pre class="lang-java" data-nodeid="54095"><code data-language="java"><span class="hljs-function">def <span class="hljs-title">extract_title</span><span class="hljs-params">(element: HtmlElement)</span>:
    title_extracted_by_meta </span>= extract_by_meta(element)
    title_extracted_by_h = extract_by_h(element)
    title_extracted_by_title = extract_by_title(element)
    <span class="hljs-keyword">if</span> title_extracted_by_meta:
        <span class="hljs-keyword">return</span> title_extracted_by_meta
    <span class="hljs-keyword">if</span> title_extracted_by_title and title_extracted_by_h:
        <span class="hljs-keyword">return</span> lcs(title_extracted_by_title, title_extracted_by_h)
    <span class="hljs-keyword">if</span> title_extracted_by_title:
        <span class="hljs-keyword">return</span> title_extracted_by_title
    <span class="hljs-keyword">return</span> title_extracted_by_h
</code></pre>

<p data-nodeid="1685">è¿™é‡Œæˆ‘ä»¬å°±å®šä¹‰äº†ä¸€äº›ä¼˜å…ˆçº§åˆ¤å®šé€»è¾‘ï¼Œå¦‚ï¼š</p>
<ul data-nodeid="1686">
<li data-nodeid="1687">
<p data-nodeid="1688">å¦‚æœå­˜åœ¨ title_extracted_by_metaï¼Œç”±äºå…¶å¯ä¿¡åº¦éå¸¸é«˜ï¼Œç›´æ¥è¿”å›å³å¯ã€‚</p>
</li>
<li data-nodeid="1689">
<p data-nodeid="1690">å¦‚æœä¸å­˜åœ¨ title_extracted_by_metaï¼Œè€Œ title_extracted_by_title å’Œ title_extracted_by_h åŒæ—¶å­˜åœ¨ï¼Œå–äºŒè€…çš„æœ€é•¿å…¬å…±å­ä¸²è¿”å›å³å¯ã€‚</p>
</li>
<li data-nodeid="1691">
<p data-nodeid="1692">å¦‚æœä¸Šè¿°æ¡ä»¶ä¸æˆç«‹ï¼Œ title_extracted_by_title å­˜åœ¨ï¼Œè¿”å› title_extracted_by_title å³å¯ã€‚</p>
</li>
<li data-nodeid="1693">
<p data-nodeid="1694">å¦‚æœä¸Šè¿°æ¡ä»¶ä¸æˆç«‹ï¼Œåªèƒ½è¿”å› title_extracted_by_h äº†ã€‚</p>
</li>
</ul>
<p data-nodeid="1695">ä»¥ä¸Šå°±æ˜¯æˆ‘ä»¬çš„æ ‡é¢˜æå–é€»è¾‘ã€‚</p>
<h3 data-nodeid="55048" class="">æ­£æ–‡</h3>

<p data-nodeid="1697">æ¥ä¸‹æ¥ç»ˆäºè½®åˆ°é‡å¤´æˆï¼Œæ­£æ–‡æå–äº†ã€‚åœ¨ä¸Šä¸€èŠ‚è¯¾æˆ‘ä»¬ä»‹ç»äº†åˆ©ç”¨æ–‡æœ¬å¯†åº¦å’Œç¬¦å·å¯†åº¦è¿›è¡Œæå–çš„æ–¹æ³•ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥å®ç°ä¸€ä¸‹å§ã€‚</p>
<p data-nodeid="1698">æ­£æ–‡çš„æå–éœ€è¦æˆ‘ä»¬åšä¸€äº›é¢„å¤„ç†å·¥ä½œï¼Œæ¯”å¦‚ä¸€ä¸ª html æ ‡ç­¾å†…æœ‰å¾ˆå¤šå™ªéŸ³ï¼Œéå¸¸å½±å“æ­£æ–‡çš„æå–ï¼Œæ¯”å¦‚è¯´ scriptã€style è¿™äº›å†…å®¹ï¼Œä¸€å®šä¸ä¼šåŒ…å«æ­£æ–‡ï¼Œä½†æ˜¯å®ƒä»¬ä¼šä¸¥é‡å½±å“æ–‡æœ¬å¯†åº¦çš„è®¡ç®—ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªé¢„å¤„ç†æ“ä½œã€‚</p>
<pre class="lang-java" data-nodeid="56002"><code data-language="java">from lxml.html <span class="hljs-keyword">import</span> HtmlElement, etree
CONTENT_USELESS_TAGS = [<span class="hljs-string">'meta'</span>, <span class="hljs-string">'style'</span>, <span class="hljs-string">'script'</span>, <span class="hljs-string">'link'</span>, <span class="hljs-string">'video'</span>, <span class="hljs-string">'audio'</span>, <span class="hljs-string">'iframe'</span>, <span class="hljs-string">'source'</span>, <span class="hljs-string">'svg'</span>, <span class="hljs-string">'path'</span>,
                        <span class="hljs-string">'symbol'</span>, <span class="hljs-string">'img'</span>]
CONTENT_STRIP_TAGS = [<span class="hljs-string">'span'</span>, <span class="hljs-string">'blockquote'</span>]
CONTENT_NOISE_XPATHS = [
    <span class="hljs-string">'//div[contains(@class, "comment")]'</span>,
    <span class="hljs-string">'//div[contains(@class, "advertisement")]'</span>,
    <span class="hljs-string">'//div[contains(@class, "advert")]'</span>,
    <span class="hljs-string">'//div[contains(@style, "display: none")]'</span>,
]

<span class="hljs-function">def <span class="hljs-title">preprocess4content</span><span class="hljs-params">(element: HtmlElement)</span>:
    # remove tag and its content
    etree.<span class="hljs-title">strip_elements</span><span class="hljs-params">(element, *CONTENT_USELESS_TAGS)</span>
    # only move tag pair
    etree.<span class="hljs-title">strip_tags</span><span class="hljs-params">(element, *CONTENT_STRIP_TAGS)</span>
    # remove noise tags
    <span class="hljs-title">remove_children</span><span class="hljs-params">(element, CONTENT_NOISE_XPATHS)</span>
    
    <span class="hljs-keyword">for</span> child in <span class="hljs-title">children</span><span class="hljs-params">(element)</span>:
        
        # merge text in span or strong to parent p tag
        <span class="hljs-keyword">if</span> child.tag.<span class="hljs-title">lower</span><span class="hljs-params">()</span> </span>== <span class="hljs-string">'p'</span>:
            etree.strip_tags(child, <span class="hljs-string">'span'</span>)
            etree.strip_tags(child, <span class="hljs-string">'strong'</span>)
            
            <span class="hljs-function"><span class="hljs-keyword">if</span> <span class="hljs-title">not</span> <span class="hljs-params">(child.text and child.text.strip()</span>):
                <span class="hljs-title">remove_element</span><span class="hljs-params">(child)</span>
        
        # <span class="hljs-keyword">if</span> a div tag does not contain any sub node, it could be converted to p node.
        <span class="hljs-keyword">if</span> child.tag.<span class="hljs-title">lower</span><span class="hljs-params">()</span> </span>== <span class="hljs-string">'div'</span> and not child.getchildren():
            child.tag = <span class="hljs-string">'p'</span>
</code></pre>

<p data-nodeid="1700">è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†ä¸€äº›è§„åˆ™ï¼Œæ¯”å¦‚ CONTENT_USELESS_TAGS ä»£è¡¨ä¸€äº›å™ªéŸ³èŠ‚ç‚¹ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ strip_elements æŠŠæ•´ä¸ªèŠ‚ç‚¹å’Œå®ƒçš„å†…å®¹åˆ é™¤ã€‚<br>
å¦å¤–å®šä¹‰äº† CONTENT_STRIP_TAGS ï¼Œè¿™äº›èŠ‚ç‚¹æ–‡æœ¬å†…å®¹éœ€è¦ä¿ç•™ï¼Œä½†æ˜¯å®ƒçš„æ ‡ç­¾æ˜¯å¯ä»¥åˆ æ‰çš„ã€‚</p>
<p data-nodeid="1701">å¦å¤–æˆ‘ä»¬è¿˜å®šä¹‰äº† CONTENT_NOISE_XPATHSï¼Œè¿™æ˜¯ä¸€äº›å¾ˆæ˜æ˜¾ä¸æ˜¯æ­£æ–‡çš„èŠ‚ç‚¹ï¼Œå¦‚è¯„è®ºã€å¹¿å‘Šç­‰ï¼Œç›´æ¥ç§»é™¤å°±å¥½ã€‚</p>
<p data-nodeid="1702">è¿™é‡Œè¿˜ä¾èµ–äºå‡ ä¸ªå·¥å…·æ–¹æ³•ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre class="lang-java" data-nodeid="56955"><code data-language="java"><span class="hljs-function">def <span class="hljs-title">remove_element</span><span class="hljs-params">(element: HtmlElement)</span>:
    parent </span>= element.getparent()
    <span class="hljs-keyword">if</span> parent is not None:
        parent.remove(element)
<span class="hljs-function">def <span class="hljs-title">remove_children</span><span class="hljs-params">(element: HtmlElement, xpaths=None)</span>:
    <span class="hljs-keyword">if</span> not xpaths:
        return
    <span class="hljs-keyword">for</span> xpath in xpaths:
        nodes </span>= element.xpath(xpath)
        <span class="hljs-keyword">for</span> node in nodes:
            remove_element(node)
    <span class="hljs-keyword">return</span> <span class="hljs-function">element
def <span class="hljs-title">children</span><span class="hljs-params">(element: HtmlElement)</span>:
    yield element
    <span class="hljs-keyword">for</span> child_element in element:
        <span class="hljs-keyword">if</span> <span class="hljs-title">isinstance</span><span class="hljs-params">(child_element, HtmlElement)</span>:
            yield from <span class="hljs-title">children</span><span class="hljs-params">(child_element)</span>
</span></code></pre>

<p data-nodeid="57908">å¦å¤–å¯¹äºä¸€äº›èŠ‚ç‚¹æˆ‘ä»¬è¿˜åšäº†ç‰¹æ®Šå¤„ç†ï¼Œå¦‚ p èŠ‚ç‚¹å†…éƒ¨çš„ spanã€strong èŠ‚ç‚¹å»æ‰æ ‡ç­¾ï¼Œåªç•™å†…å®¹ã€‚å¦‚æœæ˜¯ div èŠ‚ç‚¹ï¼Œè€Œä¸”æ²¡æœ‰å­èŠ‚ç‚¹äº†ï¼Œé‚£ä¹ˆå¯ä»¥æ¢æˆ p èŠ‚ç‚¹ã€‚</p>
<p data-nodeid="57909">å½“ç„¶è¿˜æœ‰ä¸€äº›ç»†èŠ‚çš„å¤„ç†ï¼Œä½ å¦‚æœæƒ³åˆ°äº†å¯ä»¥ç»§ç»­ä¼˜åŒ–ã€‚é¢„å¤„ç†å®Œæ¯•ä¹‹åï¼Œæ•´ä¸ª element å°±æ¯”è¾ƒè§„æ•´äº†ï¼Œå»é™¤äº†å¾ˆå¤šå™ªå£°å’Œå¹²æ‰°æ•°æ®ã€‚</p>

<p data-nodeid="1705">æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥å®ç°æ–‡æœ¬å¯†åº¦å’Œç¬¦å·å¯†åº¦çš„è®¡ç®—å§ã€‚ä¸ºäº†æ–¹ä¾¿å¤„ç†ï¼Œè¿™é‡Œæˆ‘æŠŠèŠ‚ç‚¹å®šä¹‰æˆäº†ä¸€ä¸ª Python Objectï¼Œåå­—å«ä½œ ElementInfoï¼Œå®ƒé‡Œé¢æœ‰å¾ˆå¤šå­—æ®µï¼Œä»£è¡¨äº†æŸä¸€ä¸ªèŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œæ¯”å¦‚æ–‡æœ¬å¯†åº¦ã€ç¬¦å·å¯†åº¦ç­‰ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre class="lang-dart" data-nodeid="63629"><code data-language="dart">from lxml.html <span class="hljs-keyword">import</span> HtmlElement
from pydantic <span class="hljs-keyword">import</span> BaseModel
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ElementInfo</span>(<span class="hljs-title">BaseModel</span>):
    <span class="hljs-title">id</span>: <span class="hljs-title">int</span> = <span class="hljs-title">None</span>
    <span class="hljs-title">tag_name</span>: <span class="hljs-title">str</span> = <span class="hljs-title">None</span>
    <span class="hljs-title">element</span>: <span class="hljs-title">HtmlElement</span> = <span class="hljs-title">None</span>
    <span class="hljs-title">number_of_char</span>: <span class="hljs-title">int</span> = 0
    <span class="hljs-title">number_of_linked_char</span>: <span class="hljs-title">int</span> = 0
    <span class="hljs-title">number_of_tag</span>: <span class="hljs-title">int</span> = 0
    <span class="hljs-title">number_of_linked_tag</span>: <span class="hljs-title">int</span> = 0
    <span class="hljs-title">number_of_p_tag</span>: <span class="hljs-title">int</span> = 0
    <span class="hljs-title">number_of_punctuation</span>: <span class="hljs-title">int</span> = 0
    <span class="hljs-title">density_of_punctuation</span>: <span class="hljs-title">int</span> = 1
    <span class="hljs-title">density_of_text</span>: <span class="hljs-title">int</span> = 0
    <span class="hljs-title">density_score</span>: <span class="hljs-title">int</span> = 0
    
    <span class="hljs-title">class</span> <span class="hljs-title">Config</span>:
        <span class="hljs-title">arbitrary_types_allowed</span> = <span class="hljs-title">True</span>
</span></code></pre>






<p data-nodeid="1707">è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†å‡ ä¸ªå­—æ®µã€‚</p>
<ul data-nodeid="1708">
<li data-nodeid="1709">
<p data-nodeid="1710">idï¼šèŠ‚ç‚¹çš„å”¯ä¸€ idã€‚</p>
</li>
<li data-nodeid="1711">
<p data-nodeid="1712">tag_nameï¼šèŠ‚ç‚¹çš„æ ‡ç­¾å€¼ï¼Œå¦‚ pã€divã€img ç­‰ã€‚</p>
</li>
<li data-nodeid="1713">
<p data-nodeid="1714">elementï¼šèŠ‚ç‚¹å¯¹åº”çš„ HtmlElement å¯¹è±¡ã€‚</p>
</li>
<li data-nodeid="1715">
<p data-nodeid="1716">number_of_charï¼šèŠ‚ç‚¹çš„æ€»å­—ç¬¦æ•°ã€‚</p>
</li>
<li data-nodeid="1717">
<p data-nodeid="1718">number_of_linked_charï¼šèŠ‚ç‚¹å¸¦è¶…é“¾æ¥çš„å­—ç¬¦æ•°ã€‚</p>
</li>
<li data-nodeid="1719">
<p data-nodeid="1720">number_of_tagï¼šèŠ‚ç‚¹çš„æ ‡ç­¾æ•°ã€‚</p>
</li>
<li data-nodeid="1721">
<p data-nodeid="1722">number_of_linked_tagï¼šèŠ‚ç‚¹çš„å¸¦é“¾æ¥çš„æ ‡ç­¾æ•°ï¼Œå³ a çš„æ ‡ç­¾æ•°ã€‚</p>
</li>
<li data-nodeid="1723">
<p data-nodeid="1724">number_of_p_tagï¼šèŠ‚ç‚¹çš„ p æ ‡ç­¾æ•°ã€‚</p>
</li>
<li data-nodeid="1725">
<p data-nodeid="1726">number_of_punctuationï¼šèŠ‚ç‚¹åŒ…å«çš„æ ‡ç‚¹ç¬¦å·æ•°ã€‚</p>
</li>
<li data-nodeid="1727">
<p data-nodeid="1728">density_of_punctuationï¼šèŠ‚ç‚¹çš„ç¬¦å·å¯†åº¦ã€‚</p>
</li>
<li data-nodeid="1729">
<p data-nodeid="1730">density_of_textï¼šèŠ‚ç‚¹çš„æ–‡æœ¬å¯†åº¦ã€‚</p>
</li>
<li data-nodeid="1731">
<p data-nodeid="1732">density_scoreï¼šæœ€ç»ˆè¯„åˆ†ã€‚</p>
</li>
</ul>
<p data-nodeid="1733">å¥½ï¼Œä¸‹é¢æˆ‘ä»¬è¦åšçš„å°±æ˜¯å¯¹æ•´ä¸ª HTML çš„æ‰€æœ‰èŠ‚ç‚¹è¿›è¡Œå¤„ç†ï¼Œç„¶åå¾—åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œå®ç°å¦‚ä¸‹ï¼š</p>
<pre class="lang-dart" data-nodeid="71253"><code data-language="dart"># start to evaluate every child element
element_infos = []
child_elements = children_of_body(element)
<span class="hljs-keyword">for</span> child_element <span class="hljs-keyword">in</span> child_elements:
    # <span class="hljs-keyword">new</span> element info
    element_info = ElementInfo()
    element_info.element = child_element
    element_info = fill_element_info(element_info)
    element_infos.append(element_info)
</code></pre>








<p data-nodeid="72206">è¿™é‡Œæˆ‘ä»¬å…ˆè°ƒç”¨äº† children_of_body è·å–äº†æœ€åˆ element èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œç„¶åå¯¹èŠ‚ç‚¹è¿›è¡Œå¤„ç†ã€‚</p>
<p data-nodeid="72207">å…¶ä¸­è¿™é‡Œä¾èµ– children_of_body å’Œ fill_element_info æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯è·å–æ‰€æœ‰ body å†…çš„å­èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬ bodyï¼‰ä»¥åŠè®¡ç®—èŠ‚ç‚¹ä¿¡æ¯ï¼Œå®ç°å¦‚ä¸‹ï¼š</p>

<pre class="lang-dart" data-nodeid="82704"><code data-language="dart">def children_of_body(element: HtmlElement):
    body_xpath = <span class="hljs-string">'//body'</span>
    elements = element.xpath(body_xpath)
    <span class="hljs-keyword">if</span> elements:
        <span class="hljs-keyword">return</span> children(elements[<span class="hljs-number">0</span>])
    <span class="hljs-keyword">return</span> []

def fill_element_info(element_info: ElementInfo):
    element = element_info.element
    
    # fill id
    element_info.id = hash(element)
    element_info.tag_name = element.tag
    
    # fill number_of_char
    element_info.number_of_char = number_of_char(element)
    element_info.number_of_linked_char = number_of_linked_char(element)
    element_info.number_of_tag = number_of_tag(element)
    element_info.number_of_linked_tag = number_of_linked_tag(element)
    element_info.number_of_p_tag = number_of_p_tag(element)
    element_info.number_of_punctuation = number_of_punctuation(element)
    
    # fill density
    element_info.density_of_text = density_of_text(element_info)
    element_info.density_of_punctuation = density_of_punctuation(element_info)
    <span class="hljs-keyword">return</span> element_info
</code></pre>











<p data-nodeid="1737">è¿™é‡Œ fill_element_info æ–¹æ³•éå¸¸é‡è¦ï¼Œå…¶å®å°±æ˜¯å¡«å……äº† element_info çš„å‡ ä¹æ‰€æœ‰æŒ‡æ ‡ä¿¡æ¯ï¼Œè¿™é‡Œåˆä¾èµ–äº† number_of_charã€number_of_linked_charã€number_of_tagã€number_of_linked_tagã€number_of_p_tagã€number_of_punctuationã€density_of_textã€density_of_punctuation æ–¹æ³•ï¼Œå®ç°å¦‚ä¸‹ï¼š</p>
<pre class="lang-dart" data-nodeid="93187"><code data-language="dart">def number_of_char(element: HtmlElement):
    text = <span class="hljs-string">''</span>.join(element.xpath(<span class="hljs-string">'.//text()'</span>))
    text = re.sub(<span class="hljs-string">r'\s*'</span>, <span class="hljs-string">''</span>, text, flags=re.S)
    <span class="hljs-keyword">return</span> len(text)

def number_of_linked_char(element: HtmlElement):
    text = <span class="hljs-string">''</span>.join(element.xpath(<span class="hljs-string">'.//a//text()'</span>))
    text = re.sub(<span class="hljs-string">r'\s*'</span>, <span class="hljs-string">''</span>, text, flags=re.S)
    <span class="hljs-keyword">return</span> len(text)

def number_of_tag(element: HtmlElement):
    <span class="hljs-keyword">return</span> len(element.xpath(<span class="hljs-string">'.//*'</span>))

def number_of_p_tag(element: HtmlElement):
    <span class="hljs-keyword">return</span> len(element.xpath(<span class="hljs-string">'.//p'</span>))

def number_of_linked_tag(element: HtmlElement):
    <span class="hljs-keyword">return</span> len(element.xpath(<span class="hljs-string">'.//a'</span>))

def density_of_text(element_info: ElementInfo):
    # <span class="hljs-keyword">if</span> denominator <span class="hljs-keyword">is</span> <span class="hljs-number">0</span>, just <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
    <span class="hljs-keyword">if</span> element_info.number_of_tag - element_info.number_of_linked_tag == <span class="hljs-number">0</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
    <span class="hljs-keyword">return</span> (element_info.number_of_char - element_info.number_of_linked_char) / \
           (element_info.number_of_tag - element_info.number_of_linked_tag)

def density_of_punctuation(element_info: ElementInfo):
    result = (element_info.number_of_char - element_info.number_of_linked_char) / \
             (element_info.number_of_punctuation + <span class="hljs-number">1</span>)
    # result should not be zero
    <span class="hljs-keyword">return</span> result or <span class="hljs-number">1</span>

def number_of_punctuation(element: HtmlElement):
    text = <span class="hljs-string">''</span>.join(element.xpath(<span class="hljs-string">'.//text()'</span>))
    text = re.sub(<span class="hljs-string">r'\s*'</span>, <span class="hljs-string">''</span>, text, flags=re.S)
    punctuations = [c <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> text <span class="hljs-keyword">if</span> c <span class="hljs-keyword">in</span> PUNCTUATION]
    <span class="hljs-keyword">return</span> len(punctuations)
</code></pre>











<p data-nodeid="94140">è¿™é‡Œæ¯”è¾ƒé‡è¦çš„å°±æ˜¯ density_of_text å’Œ density_of_punctuation ä¸¤ä¸ªæ–¹æ³•äº†ï¼Œåˆ†åˆ«ä»£è¡¨æ–‡æœ¬å¯†åº¦å’Œç¬¦å·å¯†åº¦ï¼Œå…¶ç®—æ³•åŸç†åœ¨ä¸Šä¸€èŠ‚å·²ç»æåˆ°äº†ï¼Œå¯ä»¥å‚è€ƒè®ºæ–‡ã€Šæ´ªé¸¿è¾‰ï¼Œç­‰ åŸºäºæ–‡æœ¬å¯Œè±ªå¯†åº¦çš„ç½‘é¡µæ­£æ–‡æå–æ–¹æ³•ã€‹çš„å†…å®¹ã€‚</p>
<p data-nodeid="94141">å¥½ï¼Œè¿™æ ·æˆ‘ä»¬è¿è¡Œå®Œæ¯•ä¹‹åï¼Œå°±å¯ä»¥å¾—åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„å„ä¸ªæŒ‡æ ‡å•¦ã€‚æœ€åï¼Œæˆ‘ä»¬ç»§ç»­å‚è€ƒè®ºæ–‡ã€Šæ´ªé¸¿è¾‰ï¼Œç­‰ åŸºäºæ–‡æœ¬å¯Œè±ªå¯†åº¦çš„ç½‘é¡µæ­£æ–‡æå–æ–¹æ³•ã€‹çš„å…¬å¼ï¼Œæ ¹æ®å„ä¸ªæŒ‡æ ‡è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„å¾—åˆ†æƒ…å†µï¼Œæœ€åæå–å†…å®¹å³å¯ï¼š</p>

<pre class="lang-dart" data-nodeid="107493"><code data-language="dart"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
# start to evaluate every child element
element_infos = []
child_elements = children_of_body(element)
<span class="hljs-keyword">for</span> child_element <span class="hljs-keyword">in</span> child_elements:
    # <span class="hljs-keyword">new</span> element info
    element_info = ElementInfo()
    element_info.element = child_element
    element_info = fill_element_info(element_info)
    element_infos.append(element_info)
    # <span class="hljs-keyword">get</span> std of density_of_text among all elements
    density_of_text = [element_info.density_of_text <span class="hljs-keyword">for</span> element_info <span class="hljs-keyword">in</span> element_infos]
    density_of_text_std = np.std(density_of_text, ddof=<span class="hljs-number">1</span>)
    # <span class="hljs-keyword">get</span> density_score of every element
    <span class="hljs-keyword">for</span> element_info <span class="hljs-keyword">in</span> element_infos:
        score = np.log(density_of_text_std) * \
                element_info.density_of_text * \
                np.log10(element_info.number_of_p_tag + <span class="hljs-number">2</span>) * \
                np.log(element_info.density_of_punctuation)
        element_info.density_score = score
    # sort element info by density_score
    element_infos = sorted(element_infos, key=lambda x: x.density_score, reverse=True)
    element_info_first = element_infos[<span class="hljs-number">0</span>] <span class="hljs-keyword">if</span> element_infos <span class="hljs-keyword">else</span> None
    text = <span class="hljs-string">'\n'</span>.join(element_info_first.element.xpath(<span class="hljs-string">'.//p//text()'</span>))
</code></pre>














<p data-nodeid="108446">è¿™é‡Œæˆ‘ä»¬é¦–å…ˆè®¡ç®—äº† density_of_text çš„æ ‡å‡†å·®ï¼Œç„¶åå¯¹å„ä¸ªèŠ‚ç‚¹è®¡ç®—äº†æœ€ç»ˆçš„å¯†åº¦å¾—åˆ†ï¼Œæœ€åæ’åºå¾—åˆ°æœ€é«˜çš„èŠ‚ç‚¹ï¼Œè·å–æ–‡æœ¬å€¼å³å¯ã€‚</p>
<p data-nodeid="108447">è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>

<pre class="lang-java" data-nodeid="109406"><code data-language="java"><span class="hljs-string">"â€œæˆ‘çš„åå­—å«ç´«ç¦åŸï¼Œå¿«è¦600å²äº†ï¼Œè¿™ä¸Šå…ƒçš„å¤œå•Šï¼Œæ€»æ˜¯è®©æˆ‘æ²‰é†‰ï¼Œè¿™ä¹ˆä¹…äº†å´ä»æœªåœæ­¢ã€‚â€\nâ€œé‡æªä¹‹ä¸Šçš„æœˆå…‰ï¼Œæ›¾ç…§è¿›å¤äººçš„å®«æ®¿ï¼›åŸå¢™ä¸Šç»µå»¶çš„ç¯å½©ï¼Œæ˜ å‡ºäº†è§’æ¥¼çš„ç‘°ä¸½ã€‚ä»Šå¤œï¼Œä¸€ç¾¤åšç‰©é¦†äººå°†æˆ‘ç‚¹ä¸€æ®µè¯ã€‚\nåŠå°æ—¶åï¼Œâ€œç´«ç¦åŸä¸Šå…ƒä¹‹å¤œâ€çš„ç¯å…‰ç‚¹äº®äº†åŒ—äº¬å¤œç©ºã€‚\nåˆé—¨åŸæ¥¼åŠä¸œè¥¿é›ç¿…æ¥¼ç”¨ç™½ã€é»„ã€çº¢ä¸‰ç§é¢œè‰²å…‰æºè£…æ‰®ï¼\nå¤ªå’Œé—¨å¹¿åœºå˜æˆäº†è¶…å¤§çš„å¤œæ™¯ç¯å…‰ç§€åœºï¼\nå›¾ç‰‡æ¥æºï¼šä¸œæ–¹IC ç‰ˆæƒä½œå“ è¯·å‹¿è½¬è½½\nåˆé—¨åŸå®«åšç‰©é™¢ä¾›å›¾\næ•…å®«çš„è§’æ¥¼è¢«ç¯å…‰è£…ç‚¹å‡ºæ»¡æ»¡çš„èŠ‚æ—¥æ°”æ°›ï¼\næ•…å®«åšç‰©é™¢ä¾›å›¾\nä»¤äººæƒŠå¹çš„æ˜¯ï¼Œæ•…å®«çš„â€œç½‘çº¢â€è—å“ã€Šæ¸…æ˜ä¸Šæ²³å›¾ã€‹ã€Šåƒé‡Œæ±Ÿå±±å›¾å·ã€‹åœ¨â€œç¯ä¼šâ€ä¸­å±•å¼€ç”»å·ã€‚\nç¯å…‰ç‰ˆã€Šæ¸…æ˜ä¸Šæ²³å›¾ã€‹\nä»¥ç¯ä¸ºç¬”ï¼Œä»¥å±‹é¡¶ä¸ºï¼Œæ•…å®«åšç‰©é™¢æœ€åŒ—ç«¯ç¥æ­¦é—¨ä¹Ÿè¢«ç¯å…‰ç‚¹äº®ï¼\næ•…å®«åšç‰©é™¢ä¾›å›¾\nä¸Šå…ƒä¹‹å¤œï¼Œæ•…å®«é‚€è¯·äº†åŠ³åŠ¨æ¨¡èŒƒã€åŒ—äº¬æ¦œæ ·ã€å¿«é€’å°å“¥ã€ç¯å«å·¥äººã€è§£æ”¾å†›å’Œæ­¦è­¦å®˜å…µã€æ¶ˆé˜²æŒ‡æˆ˜å‘˜ã€å…¬å®‰å¹²è­¦ç­‰å„ç•Œä»£è¡¨ä»¥åŠé¢„çº¦æˆåŠŸçš„è§‚ä¼—ï¼Œå…±3000äººæ•…å®«åšç‰©é™¢ä¾›å›¾\næ—¶é—´é€€å›åˆ°ä¸¤å¤©å‰ï¼Œæ•…å®«åšç‰©é™¢å‘å¸ƒäº†2æœˆ19æ—¥(æ­£æœˆåäº”)ã€20æ—¥(æ­£æœˆåå…­)å³å°†ä¸¾åŠâ€œç´«ç¦åŸä¸Šå…ƒä¹‹å¤œâ€æ–‡åŒ–æ´»åŠ¨çš„æ¶ˆæ¯ã€‚\nå›¾ç‰‡æ¥æºï¼šè§†è§‰ä¸­å›½\n18æ—¥å‡Œæ™¨ï¼Œä¸€ä¼—ç½‘å‹å‰å¾€æ•…å®«åšç‰©é™¢å®˜ç½‘æŠ¢ç¥¨ï¼Œç½‘ç«™ç”šèŠ‚å°±æœ‰è¯¸å¤šè®²ç©¶ã€‚\næœ‰ç¯æ— æœˆä¸å¨±äººï¼Œæœ‰æœˆæ— ç¯ä¸ç®—æ˜¥ã€‚\næ˜¥åˆ°äººé—´äººä¼¼ç‰ï¼Œç¯çƒ§æœˆä¸‹æœˆå¦‚æ€ ã€‚\næ»¡è¡—ç ç¿ æ¸¸æ‘å¥³ï¼Œæ²¸åœ°ç¬™æ­Œèµ›ç¤¾ç¥ã€‚\nä¸å±•èŠ³å°Šå¼€å£ç¬‘ï¼Œå¦‚ä½•æ¶ˆå¾—æ­¤è‰¯è¾°ã€‚\nâ€”â€”å”ä¼¯è™ã€Šå…ƒå®µã€‹\næ˜ä»£å®«ä¸­è¿‡ä¸Šå…ƒèŠ‚ï¼Œçš‡å®µèŠ‚æ™šä¼šâ€ã€‚\n2æœˆ18æ—¥ï¼ŒåŒ—äº¬æ•…å®«åˆé—¨è°ƒè¯•ç¯å…‰ã€‚ä¸­æ–°ç¤¾è®°è€… æœæ´‹ æ‘„\nå…¶ä¸­ï¼Œç¯æˆé¢‡ä¸ºæœ‰è¶£ã€‚ç”±å¤šäººèˆç¯æ‹¼å‡ºå‰ç¥¥æ–‡å­—åŠå›¾æ¡ˆï¼Œæ¯äººæ‰‹æ‰§å½©ç¯ã€èº«ç€ä¸åŒé¢œè‰²çš„æœè£…ï¼Œç¿©ç¿©èµ·èˆï¼Œç±»ä¼¼äºç°ä»£çš„å¤§å‹å›¢ä½“æ“è¡¨æ¼”ã€‚\nä½†è¿™ç´«ç¦åŸï¼Œæ­äº²ç‹å¥• ä¸è‹±æ³•è”å†›äº¤æ¢äº†ã€Šå¤©æ´¥æ¡çº¦ã€‹æ‰¹å‡†ä¹¦ï¼Œå¹¶è®¢ç«‹ã€Šä¸­è‹±åŒ—äº¬æ¡çº¦ã€‹ã€Šä¸­æ³•åŒ—äº¬æ¡çº¦ã€‹ä½œä¸ºè¡¥å……ã€‚\næˆ˜äº‰ç»“æŸäº†ï¼Œä¾µç•¥è€…æ‘‡èº«ä¸€å˜æˆäº†æ¸¸å®¢ã€‚ä¸€ä½å¤–å›½â€œæ‘„å½±å¸ˆâ€æ‹ä¸‹äº†å½“å¹´çš„ç´«ç¦åŸï¼Œå¹¶åœ¨æ—¥è®°é‡Œå†™åˆ°ï¼Œç™¾å¹´ã€‚\nç›´åˆ°ä¸Šä¸–çºª40å¹´ä»£æ—¶ï¼Œæ•…å®«çš„ç¯å¢ƒä»ç„¶å¹¶ä¸æ˜¯æƒ³è±¡ä¸­çš„åšç‰©é¦†çš„çŠ¶æ€ã€‚\næ›¾æœ‰æ•…å®«åšç‰©é™¢å·¥ä½œäººå‘˜æ’°æ–‡å›å¿†ï¼Œå½“æ—¶çš„æ•…å®«å†…æ‚è‰ä¸›ç”Ÿï¼Œæˆ¿å€’å±‹æ¼ï¼Œæœ‰å±‹é¡¶ç«Ÿé•¿å‡ºäº†æ ‘æœ¨ã€‚å…‰æ˜¯æ¸…ç†å½“æ—¶å®«ä¸­å­˜ç•™çš„åƒåœ¾ã€æ‚è‰å°±ç”¨å•éœç¿”åˆ°ä»»æ•…å®«é™¢é•¿ã€‚é‚£æ—¶ï¼Œä»–æ‹¿åˆ°çš„æ•…å®«åšç‰©é™¢ä»‹ç»ï¼Œå†™äº†è¿™åº§åšç‰©é¦†è¯¸å¤šçš„â€œä¸–ç•Œä¹‹æœ€â€ã€‚\nå¯ä»–è§‰å¾—ï¼Œå½“è‡ªå·±çœŸæ­£èµ°åˆ°è§‚ä¼—ä¸­é—´ï¼Œè¿™äº›â€œä¸–ç•Œä¹‹æœ€â€éƒ½æ²¡æœ‰äº†ã€‚\n2æœˆ18æ—¥ï¼ŒåŒ—äº¬æ•…å®«åˆé—¨è°ƒè¯•ç¯å…‰ã€‚ä¸­æ–°ç¤¾è®°è€… æœæ´‹ æ‘„å¤–ç¯å¢ƒè¿›è¡Œäº†å¤§æ•´æ²»ã€‚\næ¸¸å®¢æ²¡æœ‰åœ°æ–¹ä¼‘æ¯ï¼Œé‚£å°±æ‹†é™¤äº†å®«ä¸­çš„ä¸´æ—¶å»ºç­‘ã€æ–°å¢ä¾›æ¸¸å®¢ä¼‘æ¯çš„æ¤…å­ï¼›\næ¸¸å®¢æ’é˜Ÿä¸Šå•æ‰€ï¼Œé‚£å°±å°†ä¸€ä¸ªèŒå·¥é£Ÿå ‚éƒ½æ”¹æˆäº†æ´—æ‰‹é—´ï¼›\næ¸¸å®¢ä¹°ç¥¨éš¾ï¼Œé‚£å°±å…¨é¢é‡‡ç”¨ç”µå­è´­ç¥¨ï¼Œæ–°å¢å¤šä¸ªå”®ç¥¨ç‚¹ï¼›é¦†ã€‚\nä»Šå¹´ï¼ŒæŒç»­æ•´ä¸ªæ­£æœˆçš„â€œè¿‡å¤§å¹´â€å±•è§ˆå’Œâ€œç´«ç¦åŸä¸Šå…ƒä¹‹å¤œâ€ï¼Œè®©æœ¬è¯¥æ˜¯æ·¡å­£çš„æ•…å®«å˜å¾—ä¸€ç¥¨éš¾æ±‚ã€‚\nåœ¨ä¸å°‘æ™®é€šäººçœ¼ä¸­ï¼Œè¿‘600å²çš„æ•…å®«æ­£å˜å¾—è¶Šæ¥è¶Šå¹´è½»ã€‚\nèµ„æ–™å›¾ï¼šæ•…å®«åšç‰©é™¢é™¢é•¿å•éœç¿”ã€‚ä¸­æ–°ç¤¾è®°è€… åˆ˜å…³å…³ æ‘„å…ƒå®µèŠ‚æ´»åŠ¨è¿›è¡Œè¯„ä¼°åï¼Œæˆ–ç»“åˆäºŒåå››èŠ‚æ°”ç­‰é‡è¦æ—¶é—´èŠ‚ç‚¹æ¨å‡ºå¤œåœºæ´»åŠ¨ã€‚\nä½ æœŸå¾…å—ï¼Ÿ\nä½œè€…ï¼šä¸Šå®˜äº‘ å®‹å®‡æ™Ÿ"</span>
</code></pre>

<p data-nodeid="1743">å¯ä»¥çœ‹åˆ°ï¼Œæ­£æ–‡å°±è¢«æˆåŠŸæå–å‡ºæ¥äº†ã€‚</p>
<h3 data-nodeid="110359" class="">æ•´ç†</h3>

<p data-nodeid="1745">æœ€åæ•´ç†ä¸€ä¸‹ï¼Œä¸‰è€…ç»“æœåˆå¹¶ï¼Œè¾“å‡ºä¸º JSON æ ¼å¼ï¼Œå®ç°å¦‚ä¸‹ï¼š</p>
<pre class="lang-java" data-nodeid="111313"><code data-language="java"><span class="hljs-function">def <span class="hljs-title">extract</span><span class="hljs-params">(html)</span>:
    return </span>{
        <span class="hljs-string">'title'</span>: extract_title(html),
        <span class="hljs-string">'datetime'</span>: extract_datetime(html),
        <span class="hljs-string">'content'</span>: extract_content(html)
    }
</code></pre>

<p data-nodeid="113212">æœ€åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç±»ä¼¼çš„è¾“å‡ºæ•ˆæœï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<p data-nodeid="113213" class="te-preview-highlight"><img src="https://s0.lgstatic.com/i/image/M00/28/3D/CgqCHl74VdaATYm8AAKNT19ZZkg888.png" alt="image (1).png" data-nodeid="113221"></p>


<p data-nodeid="1748">åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬å°±æˆåŠŸæå–å‡ºæ¥äº†æ ‡é¢˜ã€æ—¶é—´å’Œæ­£æ–‡å†…å®¹å¹¶è¾“å‡ºä¸º JSON æ ¼å¼äº†ã€‚å…¶ä»–çš„ä¸€äº›å­—æ®µç›¸å¯¹æ²¡æœ‰é‚£ä¹ˆé‡è¦ï¼Œä½ å¯ä»¥æ ¹æ®ç±»ä¼¼çš„æ–¹æ³•æ¥è¿›è¡Œæå–å’Œå®éªŒã€‚</p>
<p data-nodeid="1749">æœ¬èŠ‚ä»£ç ï¼š<a href="https://github.com/Gerapy/GerapyAutoExtractor" data-nodeid="2100">https://github.com/Gerapy/GerapyAutoExtractor</a>ã€‚</p>

---

### ç²¾é€‰è¯„è®º

##### **ä¹‹è·¯ï¼š
> æ­£æ˜¯æˆ‘éœ€è¦çš„ï¼Œå¤§ç¥å°±æ˜¯å¤§ç¥

##### **æ³¢ï¼š
> å´”å¤§ç¥æ€»èƒ½ç»™æˆ‘å¸¦æ¥æƒŠå–œğŸ˜›

